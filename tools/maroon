#!/usr/bin/env bash
set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
WORKSPACE_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"
CONFIG_DEFAULT="$WORKSPACE_ROOT/../deepseek_config_sequential.yaml"

cmd="${1:-}"
shift || true

case "$cmd" in
  normalize)
    CONFIG="${1:-$CONFIG_DEFAULT}"
    python3 "$SCRIPT_DIR/normalize/sequential_normalize.py" "$CONFIG"
    ;;
  *)
    echo "Usage: maroon normalize [config_path]" >&2
    exit 1
    ;;
 esac
